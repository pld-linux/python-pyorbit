--- pyorbit-1.99.4/src/pyorbit-servant.c.orig	Sun Mar 23 06:15:03 2003
+++ pyorbit-1.99.4/src/pyorbit-servant.c	Thu Jul  3 14:55:36 2003
@@ -21,12 +21,14 @@
 #  include <config.h>
 #endif
 
-#define ORBIT2_INTERNAL_API
 #include "pyorbit-private.h"
 #include <structmember.h>
 #include <orbit/poa/poa-types.h>
 #include <orbit/orbit-config.h>
 
+#define ORBIT_SERVANT_SET_CLASSINFO(servant,ci) {			\
+  ((PortableServer_ServantBase *)(servant))->vepv[0]->_private = (ci);	\
+}
 
 struct _PyORBitInterfaceInfo {
     ORBit_IInterface *iinterface;
